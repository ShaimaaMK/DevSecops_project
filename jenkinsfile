pipeline{
   agent any
   //environment {
     //   MAIL_HOST = 'localhost'
       // MAIL_PORT = '1025'
        //DATABASE_USER = 'root'
        //DATABASE_PASSWORD = 'ez7mz'
        //DATABASE_URI = 'jdbc:mysql://localhost:3306/smartcity?createDatabaseIfNotExist=true'

    //}
   stages {
     stage ('git checkout'){
       steps{
         git url: 'https://github.com/ShaimaaMK/DevSecops_project.git', branch: 'master'
       }
     }

      stage ('unit testing') {
         steps {
            script {
               sh 'mvn test'
                }  
              }
           }
           stage ('integration testing') {
              steps{
                  script{
                      sh 'mvn verify -DskipUnitTests'
                  }
              }
           }
           stage ('checkstyle testing') {
              steps{
                  script{
                      sh 'mvn checkstyle:check'
                  }
              }
     }
   }
}
